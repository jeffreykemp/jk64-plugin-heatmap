function jk64plugin_heatmap(a){if(apex.debug(a.regionId+" heatmap"),a.heatmap&&(apex.debug(a.regionId+" hide heatmap"),a.heatmap.setMap(null),apex.debug(a.regionId+" remove heatmap"),a.heatmap["delete"],a.heatmap=null),a.mapdata.length>0){a.infoNoDataFound&&(apex.debug(a.regionId+" hide No Data Found infowindow"),a.infoNoDataFound.close());for(var e=[],t=0;t<a.mapdata.length;t++)e.push({location:new google.maps.LatLng(a.mapdata[t].a,a.mapdata[t].b),weight:a.mapdata[t].c});a.heatmap=new google.maps.visualization.HeatmapLayer({data:e,map:a.map,dissipating:a.dissipating,opacity:a.opacity,radius:a.radius})}else""!==a.noDataMessage&&(apex.debug(a.regionId+" show No Data Found infowindow"),a.infoNoDataFound?a.infoNoDataFound.close():a.infoNoDataFound=new google.maps.InfoWindow({content:a.noDataMessage,position:{lat:0,lng:0}}),a.infoNoDataFound.open(a.map))}function jk64plugin_initMap(a){apex.debug(a.regionId+" initMap");var e={zoom:2,mapTypeId:google.maps.MapTypeId.ROADMAP};a.map=new google.maps.Map(document.getElementById(a.container),e),a.mapstyle&&a.map.setOptions({styles:a.mapstyle}),a.map.fitBounds(new google.maps.LatLngBounds(a.southwest,a.northeast)),jk64plugin_heatmap(a),apex.debug(a.regionId+" initMap finished"),apex.jQuery("#"+a.regionId).trigger("maploaded",{map:a.map})}function jk64plugin_refreshMap(a){apex.debug(a.regionId+" refreshMap"),apex.jQuery("#"+a.regionId).trigger("apexbeforerefresh"),apex.debug("ajaxItems="+a.ajaxItems),apex.server.plugin(a.ajaxIdentifier,{pageItems:a.ajaxItems},{dataType:"json",success:function(e){apex.debug(a.regionId+" success"),apex.debug(a.regionId+" pData.southwest="+e.southwest.lat+","+e.southwest.lng+" pData.northeast="+e.northeast.lat+","+e.northeast.lng),a.map.fitBounds({south:e.southwest.lat,west:e.southwest.lng,north:e.northeast.lat,east:e.northeast.lng}),apex.debug(a.regionId+" pData.mapdata.length="+e.mapdata.length),a.mapdata=e.mapdata,jk64plugin_heatmap(a),apex.jQuery("#"+a.regionId).trigger("apexafterrefresh")}}),apex.debug(a.regionId+" refreshMap finished")}